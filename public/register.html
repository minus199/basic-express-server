<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ¤™ Old school website ðŸ¤™</title>
    <link href="/stylesheets/style.css" rel="stylesheet" />
</head>

<body>
    <fieldset>
        <legend>Create new user</legend>
        <input id="username" placeholder="email" />
        <input id="password" type="password" placeholder="password" />
        <button id="register">Register</button>
    </fieldset>

    <!-- todo: add login page -->
    <!-- TODO: add logout button(frontend) + logout endpoint(backend) -->

    <script type="text/javascript">
        const jsonHeaders = {
            'Accept': 'application/json',
            'Content-Type': 'application/json'
        }
        const $username = document.querySelector("#username")
        const $password = document.querySelector("#password")
        document.querySelector("#register").addEventListener("click", (event) => {
            fetch("/auth/register", {
                method: 'POST',
                headers: jsonHeaders,
                body: JSON.stringify({ email: $username.value, password: password.value, foo: "this is a custom field" })
            })
        })
    </script>
</body>

</html>